[
{
	"uri": "//localhost:1313/vi/4-ruleswaf/4.1-updateiamrole/",
	"title": "C·∫≠p nh·∫≠t IAM Role",
	"tags": [],
	"description": "",
	"content": "ƒê·ªÉ c√°c EC2 instance c·ªßa ch√∫ng ta c√≥ th·ªÉ g·ª≠i session log t·ªõi S3 bucket , ch√∫ng ta s·∫Ω c·∫ßn c·∫≠p nh·∫≠t IAM Role ƒë√£ g√°n v√†o EC2 instance b·∫±ng c√°ch th√™m v√†o policy cho ph√©p quy·ªÅn truy c·∫≠p v√†o S3.\nC·∫≠p nh·∫≠t IAM Role Truy c·∫≠p v√†o giao di·ªán qu·∫£n tr·ªã d·ªãch v·ª• IAM Click Roles. T·∫°i √¥ t√¨m ki·∫øm , ƒëi·ªÅn SSM. Click v√†o role SSM-Role. Click Attach policies. T·∫°i √¥ Search ƒëi·ªÅn S3. Click ch·ªçn policy AmazonS3FullAccess. Click Attach policy. Trong th·ª±c t·∫ø ch√∫ng ta s·∫Ω c·∫•p quy·ªÅn ch·∫∑t ch·∫Ω h∆°n t·ªõi S3 bucket ch·ªâ ƒë·ªãnh. Trong khu√¥n kh·ªï b√†i lab n√†y ch√∫ng ta s·ª≠ d·ª•ng policy AmazonS3FullAccess cho ti·ªán d·ª•ng.\nTi·∫øp theo ch√∫ng ta s·∫Ω ti·∫øn h√†nh t·∫°o S3 bucket ƒë·ªÉ l∆∞u tr·ªØ session logs.\n"
},
{
	"uri": "//localhost:1313/vi/1-introduce/",
	"title": "Gi∆°ÃÅi thi√™Ã£u",
	"tags": [],
	"description": "",
	"content": "Web Application Firewall (WAF) l√† m·ªôt d·ªãch v·ª• c·ªßa Amazon Web Services (AWS) cho ph√©p ng∆∞·ªùi d√πng b·∫£o v·ªá c√°c ·ª©ng d·ª•ng web kh·ªèi c√°c cu·ªôc t·∫•n c√¥ng tr√™n m·∫°ng b·∫±ng c√°ch ch·∫∑n c√°c y√™u c·∫ßu kh√¥ng mong mu·ªën ho·∫∑c ƒë·ªôc h·∫°i tr∆∞·ªõc khi ch√∫ng ƒë·∫øn ƒë∆∞·ª£c t·ªõi ·ª©ng d·ª•ng web. WAF AWS c√≥ th·ªÉ x√°c ƒë·ªãnh v√† ch·∫∑n c√°c y√™u c·∫ßu web kh√¥ng mong mu·ªën ho·∫∑c ƒë·ªôc h·∫°i nh∆∞ c√°c cu·ªôc t·∫•n c√¥ng DDoS, SQL Injection, Cross-site scripting (XSS) v√† c√°c cu·ªôc t·∫•n c√¥ng kh√°c. WAF AWS ho·∫°t ƒë·ªông b·∫±ng c√°ch s·ª≠ d·ª•ng c√°c quy t·∫Øc b·∫£o m·∫≠t ƒë·ªÉ ph√¢n t√≠ch c√°c y√™u c·∫ßu ƒë·∫øn ·ª©ng d·ª•ng web v√† ch·∫∑n c√°c y√™u c·∫ßu kh√¥ng ph√π h·ª£p v·ªõi quy t·∫Øc ƒë√≥.\nUsing Web Application Firewall (WAF) provides users with many security features, including:\nB·∫£o v·ªá tr∆∞·ªõc c√°c cu·ªôc t·∫•n c√¥ng DDoS, SQL Injection, XSS v√† c√°c cu·ªôc t·∫•n c√¥ng kh√°c. C·∫•u h√¨nh quy t·∫Øc b·∫£o m·∫≠t linh ho·∫°t ƒë·ªÉ ph√π h·ª£p v·ªõi nhu c·∫ßu b·∫£o m·∫≠t c·ªßa doanh nghi·ªáp. T√≠ch h·ª£p v·ªõi c√°c d·ªãch v·ª• kh√°c c·ªßa AWS nh∆∞ Amazon CloudFront, AWS Application Load Balancer, AWS Elastic Beanstalk, AWS API Gateway ƒë·ªÉ cung c·∫•p m·ªôt gi·∫£i ph√°p b·∫£o m·∫≠t to√†n di·ªán cho ·ª©ng d·ª•ng web. T√≠nh nƒÉng gi√°m s√°t v√† b√°o c√°o ƒë·ªÉ gi√∫p ng∆∞·ªùi d√πng qu·∫£n l√Ω c√°c cu·ªôc t·∫•n c√¥ng v√† ƒë·∫£m b·∫£o t√≠nh ·ªïn ƒë·ªãnh v√† hi·ªáu su·∫•t c·ªßa ·ª©ng d·ª•ng web. "
},
{
	"uri": "//localhost:1313/vi/",
	"title": "Session Management",
	"tags": [],
	"description": "",
	"content": "T∆∞·ªùng l·ª≠a ·ª©ng d·ª•ng web (WAF) ·ª©ng d·ª•ng Quy t·∫Øc h·ªçc m√°y T·ªïng quan Trong b√†i lab n√†y, b·∫°n s·∫Ω h·ªçc c√°ch tri·ªÉn khai AWS WAF v·ªõi c√°c quy t·∫Øc ML ƒë·ªÉ b·∫£o v·ªá ·ª©ng d·ª•ng, theo d√µi l∆∞u l∆∞·ª£ng truy c·∫≠p v√† ki·ªÉm tra kh·∫£ nƒÉng ph√°t hi·ªán c√°c cu·ªôc t·∫•n c√¥ng.\nN·ªôi dung Gi∆°ÃÅi thi√™Ã£u CaÃÅc b∆∞∆°ÃÅc chu√¢Ãân biÃ£ TaÃ£o k√™ÃÅt n√¥ÃÅi ƒë√™ÃÅn maÃÅy chuÃâ EC2 Qu·∫£n l√Ω session logs Port Forwarding D·ªçn d·∫πp t√†i nguy√™n "
},
{
	"uri": "//localhost:1313/vi/2-prerequiste/2.1-createwebsample/2.1.1-createdistributions/",
	"title": "T·∫°o CloudFront Distributions cho web tƒ©nh S3",
	"tags": [],
	"description": "",
	"content": "T·∫°o CloudFront Distribution M·ªü d·ªãch v·ª• CloudFront Trong AWS Management Console, t√¨m CloudFront ‚Üí Create distribution. Specify Origin Origin type: Ch·ªçn Amazon S3. Origin domain: Ch·ªçn bucket S3 ƒë√£ t·∫°o. N·∫øu bucket ƒë√£ b·∫≠t Static website hosting ‚Üí nh·∫•n Use website endpoint ƒë·ªÉ CloudFront ph·ª•c v·ª• ƒë√∫ng file index.html. Allow private S3 bucket access to CloudFront: b·∫≠t n·∫øu mu·ªën gi·ªõi h·∫°n truy c·∫≠p ch·ªâ qua CloudFront. C·∫•u h√¨nh Cache \u0026amp; Security Viewer protocol policy: Redirect HTTP to HTTPS. Default root object: index.html. B·ªè qua b∆∞·ªõc Enable security n·∫øu b·∫°n mu·ªën ti·∫øt ki·ªám ph√≠ ·ªû b∆∞·ªõc Enable security (WAF): Ch·ªçn Do not enable security protections ƒë·ªÉ ch∆∞a g·∫Øn WAF. Sau n√†y v√†o AWS WAF console ƒë·ªÉ g·∫Øn WebACL khi c·∫ßn test. T·∫°o Distribution Nh·∫•n Create distribution. Ch·ªù tr·∫°ng th√°i Deployed. "
},
{
	"uri": "//localhost:1313/vi/3-configurationml-style/3.1-createlambda/",
	"title": "T·∫°o Lambda Function ki·ªÉm tra log WAF",
	"tags": [],
	"description": "",
	"content": "M·ª•c ti√™u: Lambda s·∫Ω nh·∫≠n log t·ª´ WAF (CloudWatch Logs ho·∫∑c Kinesis), ph√¢n t√≠ch v√† ph√°t hi·ªán d·∫•u hi·ªáu t·∫•n c√¥ng d·ª±a tr√™n logic ML ho·∫∑c rule t√πy ch·ªânh. B·∫Øt ƒë·∫ßu th·ª±c hi·ªán V√†o Lambda Console: truy c·∫≠p AWS Lambda Console\nNh·∫•p ch·ªçn Create a function Sau khi hi·ªÉn th·ªã l√™n ch·ªçn c√°ch t·∫°o g·ªìm:\nAuthor from scratch Function name: waf-ml-detection Runtime: Python 3.10 (ho·∫∑c Node.js) Architecture: x86_64 Permissions: Ch·ªçn Create a new role with basic Lambda permissions. Ch·ªçn Create function Th√™m quy·ªÅn ƒë·ªçc log Sau khi t·∫°o xong Lambda ‚Üí v√†o tab Configuration ‚Üí Permissions. Ch·ªçn Role name ƒë·ªÉ m·ªü IAM Role. Trong Role cu·ªôn xu·ªëng t√¨m Add permissions sau ƒë√≥ ch·ªçn Attach policies v√† g·∫Øn: CloudWatchLogsReadOnlyAccess (ƒë·ªçc log) AWSWAFReadOnlyAccess (n·∫øu c·∫ßn ƒë·ªçc c·∫•u h√¨nh WAF) Vi·∫øt code Lambda Quay l·∫°i tab Code b√™n lambda, thay n·ªôi dung b·∫±ng m·∫´u Python c∆° b·∫£n: import json def lambda_handler(event, context): for record in event[\u0026#39;records\u0026#39;]: payload = json.loads(record[\u0026#39;data\u0026#39;]) # Log payload ƒë·ªÉ debug print(json.dumps(payload)) # V√≠ d·ª• rule: ph√°t hi·ªán n·∫øu request ch·ª©a SQL injection pattern if \u0026#34;UNION\u0026#34; in payload.get(\u0026#34;httpRequest\u0026#34;, {}).get(\u0026#34;uri\u0026#34;, \u0026#34;\u0026#34;).upper(): print(\u0026#34;üö® Detected possible SQL injection attack!\u0026#34;) # ·ªû ƒë√¢y c√≥ th·ªÉ g·ª≠i alert ho·∫∑c g·ªçi API WAF ƒë·ªÉ block IP return {\u0026#34;statusCode\u0026#34;: 200, \u0026#34;body\u0026#34;: \u0026#34;Processed\u0026#34;} Deploy code "
},
{
	"uri": "//localhost:1313/vi/2-prerequiste/2.1-createwebsample/",
	"title": "T·∫°o trang web tƒ©nh S3",
	"tags": [],
	"description": "",
	"content": "Kh·ªüi t·∫°o S3 Bucket Truy c·∫≠p AWS Management Console\nƒêƒÉng nh·∫≠p b·∫±ng t√†i kho·∫£n c·ªßa b·∫°n.\nSau khi ƒëƒÉng nh·∫≠p xong s·∫Ω chuy·ªÉn ng∆∞·ªùi d√πng ƒë·∫øn trang ch√≠nh c·ªßa AWS Manage Console nh∆∞ h√¨nh :\nT√¨m v√† m·ªü d·ªãch v·ª• S3.\nNh·∫•n Create bucket ·ªü trang ch·ªß v√† ƒëi·ªÅn c√°c th√¥ng tin sau: AWS Region Ch·ªçn c√πng region v·ªõi WAF (v√≠ d·ª•: us-east-1) Bucket name waf-demo-yourname Trong m·ª•c Object Ownership, ta ch·ªçn ACLs disabled (recommended).\nK·∫ø ti·∫øp ·ªü ph·∫ßn Block Public Access settings:\nB·ªè ch·ªçn Block all public access. T√≠ch v√†o I acknowledge that the current settings might result in this bucket and the objects within becoming public. Gi·ªØ nguy√™n c√†i ƒë·∫∑t kh√°c m·∫∑c ƒë·ªãnh, sau ƒë√≥ nh·∫•n Create bucket.\nUpload file index.html T·∫°o file index.html v·ªõi n·ªôi dung c∆° b·∫£n: \u0026lt;!DOCTYPE html\u0026gt; \u0026lt;html\u0026gt; \u0026lt;head\u0026gt;\u0026lt;title\u0026gt;WAF Demo\u0026lt;/title\u0026gt;\u0026lt;/head\u0026gt; \u0026lt;body\u0026gt;\u0026lt;h1\u0026gt;Hello WAF!\u0026lt;/h1\u0026gt;\u0026lt;/body\u0026gt; \u0026lt;/html\u0026gt; Truy c·∫≠p bucket v·ª´a t·∫°o ‚Üí Nh·∫•n Upload. Ch·ªçn file index.html v√† nh·∫•n Upload. B·∫≠t Static Website Hosting Trong bucket, m·ªü tab Properties\nCu·ªôn xu·ªëng Static website hosting ‚Üí Nh·∫•n Edit.\nCh·ªçn Enable.\n·ªû ph·∫ßn Hosting type, ch·ªçn Host a static website.\nM·ª•c Index document: nh·∫≠p index.html.\nNh·∫•n Save changes.\nSao ch√©p Endpoint URL ƒë∆∞·ª£c hi·ªÉn th·ªã.\nCh·ª•p m√†n h√¨nh: Endpoint URL sau khi b·∫≠t static website hosting\nC·∫•p quy·ªÅn Public Access V√†o tab Permissions c·ªßa bucket. Cu·ªôn xu·ªëng ngay t·∫°i ph·∫ßn Bucket policy, nh·∫•n Edit v√† d√°n ƒëo·∫°n policy sau, ƒë·ªïi b·∫±ng t√™n bucket c·ªßa b·∫°n: { \u0026#34;Version\u0026#34;: \u0026#34;2012-10-17\u0026#34;, \u0026#34;Statement\u0026#34;: [ { \u0026#34;Sid\u0026#34;: \u0026#34;PublicReadGetObject\u0026#34;, \u0026#34;Effect\u0026#34;: \u0026#34;Allow\u0026#34;, \u0026#34;Principal\u0026#34;: \u0026#34;*\u0026#34;, \u0026#34;Action\u0026#34;: \u0026#34;s3:GetObject\u0026#34;, \u0026#34;Resource\u0026#34;: \u0026#34;arn:aws:s3:::\u0026lt;your-bucket-name\u0026gt;/*\u0026#34; } ] } Nh·∫•n Save changes. Ki·ªÉm tra truy c·∫≠p: Truy c·∫≠p l·∫°i tr√¨nh duy·ªát th√¥ng qua Endpoint URL m√† b·∫°n ƒë√£ t·∫°o tr∆∞·ªõc ƒë√≥, n·∫øu th·∫•y n·ªôi dung \u0026ldquo;Hello WAF!\u0026rdquo; nghƒ©a l√† b·∫°n ƒë√£ th√†nh c√¥ng.\n"
},
{
	"uri": "//localhost:1313/vi/2-prerequiste/",
	"title": "CaÃÅc b∆∞∆°ÃÅc chu√¢Ãân biÃ£",
	"tags": [],
	"description": "",
	"content": "Trong ph·∫ßn n√†y, b·∫°n s·∫Ω t·∫°o m√¥i tr∆∞·ªùng demo ƒë·ªÉ s·∫µn s√†ng tri·ªÉn khai WAF th√¥ng minh, g·ªìm:\n·ª®ng d·ª•ng web m·∫´u ƒë·ªÉ WAF b·∫£o v·ªá (S3 ho·∫∑c EC2). AWS WAF WebACL ƒë·ªÉ ch·∫∑n c√°c truy c·∫≠p nguy hi·ªÉm. CloudWatch Log Group ƒë·ªÉ ghi l·∫°i c√°c s·ª± ki·ªán b·∫£o m·∫≠t t·ª´ WAF ƒê·ªÉ t√¨m hi·ªÉu c√°ch t·∫°o c√°c EC2, S3,\u0026hellip; c√°c b·∫°n c√≥ th·ªÉ tham kh·∫£o b√†i lab :\nGi·ªõi thi·ªáu v·ªÅ Amazon EC2 L√†m vi·ªác v·ªõi Amazon S3 L√†m vi·ªác v·ªõi Amazon WAF Gi·ªõi thi·ªáu v·ªÅ Amazon Lambda N√¥Ã£i dung Chu·∫©n b·ªã VPC v√† EC2 Instance T·∫°o WAF WebACL v√† g√°n v√†o resource B·∫≠t logging v√† t·∫°o Log Group "
},
{
	"uri": "//localhost:1313/vi/3-configurationml-style/3.2-subscribelambda/",
	"title": "Subscribe Lambda v·ªõi Log Group",
	"tags": [],
	"description": "",
	"content": " Th√¥ng qua ƒë∆∞·ªùng link truy c·∫≠p n√†y ƒë·ªÉ quay v·ªÅ trang CloudWatch Console: CloudWatch Console\nT√¨m Log Group m√† b·∫°n ƒë√£ c·∫•u h√¨nh ·ªü b∆∞·ªõc tr∆∞·ªõc cho WAF Ch·ªçn Log Group ‚Üí Actions ‚Üí Create subscription filter. Ch·ªçn c√°c m·ª•c sau g·ªìm c√≥:\nDestination: Lambda function Lambda: waf-ml-detection ƒê·∫∑t t√™n Subscription filter name: waf-logs-to-lambda Filter pattern: ƒê·ªÉ tr·ªëng (nghƒ©a l√† g·ª≠i t·∫•t c·∫£ log).\nX√°c nh·∫≠n v√† t·∫°o. "
},
{
	"uri": "//localhost:1313/vi/4-ruleswaf/4.2-creates3bucket/",
	"title": "TaÃ£o S3 Bucket",
	"tags": [],
	"description": "",
	"content": "Trong b∆∞·ªõc n√†y, ch√∫ng ta s·∫Ω t·∫°o 1 S3 bucket ƒë·ªÉ l∆∞u tr·ªØ c√°c session logs ƒë∆∞·ª£c g·ª≠i t·ª´ c√°c EC2 instance.\nTaÃ£o S3 Bucket Truy c·∫≠p giao di·ªán qu·∫£n tr·ªã d·ªãch v·ª• S3 Click Create bucket. T·∫°i trang Create bucket. T·∫°i m·ª•c Bucket name ƒëi·ªÅn t√™n bucket lab-yourname-bucket-0001 T·∫°i m·ª•c Region ch·ªçn Region b·∫°n ƒëang l√†m lab hi·ªán t·∫°i. T√™n S3 bucket ph·∫£i ƒë·∫£m b·∫£o kh√¥ng tr√πng v·ªõi to√†n b·ªô S3 bucket kh√°c trong h·ªá th·ªëng. B·∫°n c√≥ th·ªÉ thay th·∫ø t√™n m√¨nh v√† ƒëi·ªÅn s·ªë ng·∫´u nhi√™n khi t·∫°o t√™n S3 bucket.\nK√©o chu·ªôt xu·ªëng ph√≠a d∆∞·ªõi v√† click Create bucket. Khi t·∫°o S3 bucket ch√∫ng ta ƒë√£ th·ª±c hi·ªán Block all public access n√™n c√°c EC2 instance c·ªßa ch√∫ng ta s·∫Ω kh√¥ng th·ªÉ k·∫øt n·ªëi t·ªõi S3 th√¥ng qua m·∫°ng internet. Trong b∆∞·ªõc ti·∫øp theo ch√∫ng ta s·∫Ω c·∫•u h√¨nh t√≠nh nƒÉng S3 Gateway Endpoint ƒë·ªÉ cho ph√©p c√°c EC2 instance c√≥ th·ªÉ k·∫øt n·ªëi t·ªõi S3 bucket th√¥ng qua m·∫°ng n·ªôi b·ªô c·ªßa VPC.\n"
},
{
	"uri": "//localhost:1313/vi/2-prerequiste/2.2-createwafwebacl/",
	"title": "T·∫°o WAF WebACL v√† g√°n v√†o resource",
	"tags": [],
	"description": "",
	"content": "T·∫°o m·ªôt WebACL Quay l·∫°i trang ch·ªß AWS console v√† m·ªü AWS WAF console Ti·∫øp ƒë√≥ ch·ªçn WebACLs v√† nh·∫•p ch·ªçn Create WebACL T√™n WebACL: V√≠ d·ª• ML-WAF-Demo.\nAdd AWS Resources ‚Üí ch·ªçn resource mu·ªën b·∫£o v·ªá (ch·ªçn CloudFront distribution m√† ch√∫ng ta ƒë√£ t·∫°o tr∆∞·ªõc ƒë√≥).\nRules: T·∫°m ƒë·ªÉ tr·ªëng (s·∫Ω th√™m ·ªü b∆∞·ªõc ti·∫øp theo).\nDefault action: Allow.\nHo√†n t·∫•t t·∫°o WebACL. "
},
{
	"uri": "//localhost:1313/vi/2-prerequiste/2.3-turnonloggingcreateloggroup/",
	"title": "B·∫≠t logging v√† t·∫°o Log Group",
	"tags": [],
	"description": "",
	"content": "M·ª•c ti√™u: Ghi l·∫°i log request v√†o CloudWatch Logs ƒë·ªÉ sau n√†y d√πng ML model ph√¢n t√≠ch.\nV√†o l·∫°i AWS WAF console ‚Üí WebACLs\nCh·ªçn WebACL m√† b·∫°n v·ª´a t·∫°o.\nSau khi hi·ªán l√™n th√¥ng tin WebACL m√† b·∫°n ƒë√£ t·∫°o ch·ªçn m·ª•c Logging and Metrics\nCh·ªçn Enable ·ªü g√≥c ph·∫£i\nCh·ªçn Logging destination\nCh·ªçn CloudWatch Logs (ph·ªï bi·∫øn nh·∫•t) N·∫øu ch∆∞a c√≥ Log Group:\nM·ªü tab m·ªõi v√†o CloudWatch ‚Üí Log groups ‚Üí Create log group.\nƒê·∫∑t t√™n (v√≠ d·ª•: /aws/waf/ml-waf-logs). Quay l·∫°i m√†n h√¨nh WAF, ch·ªçn Log Group v·ª´a t·∫°o.\nNh·∫•p save v√† b·∫°n ƒë√£ th√†nh c√¥ng b·∫≠t logging "
},
{
	"uri": "//localhost:1313/vi/3-configurationml-style/",
	"title": "C·∫•u h√¨nh ML-style detection",
	"tags": [],
	"description": "",
	"content": "Trong b∆∞·ªõc n√†y, chuÃÅng ta seÃÉ th∆∞Ã£c hi√™Ã£n c√°c c√¥ng ƒëo·∫°n g·ªìm:\nThu th·∫≠p v√† ph√¢n t√≠ch log t·ª´ ƒë√≥ tr√≠ch xu·∫•t ƒë·∫∑c tr∆∞ng (features) t·ª´ c√°c request. Hu·∫•n luy·ªán ho·∫∑c √°p d·ª•ng m√¥ h√¨nh ML ƒë·ªÉ nh·∫≠n di·ªán pattern t·∫•n c√¥ng. T·∫°o lu·∫≠t WAF ƒë·ªông (dynamic rules) d·ª±a tr√™n k·∫øt qu·∫£ ML. N√¥Ã£i dung 3.1. T·∫°o Lambda Function ki·ªÉm tra log WAF 3.2. Subscribe Lambda v·ªõi Log Group\n"
},
{
	"uri": "//localhost:1313/vi/4-ruleswaf/",
	"title": "Th√™m Custom Rules v√†o WAF",
	"tags": [],
	"description": "",
	"content": "V·ªõi Session Manager ch√∫ng ta c√≥ th·ªÉ xem ƒë∆∞·ª£c l·ªãch s·ª≠ c√°c k·∫øt n·ªëi t·ªõi c√°c instance th√¥ng qua Session history. Tuy nhi√™n ch√∫ng ta ch∆∞a xem ƒë∆∞·ª£c chi ti·∫øt c√°c c√¢u l·ªánh ƒë∆∞·ª£c s·ª≠ d·ª•ng.\nTrong ph·∫ßn n√†y ch√∫ng ta s·∫Ω ti·∫øn h√†nh t·∫°o S3 bucket v√† th·ª±c hi·ªán c·∫•u h√¨nh l∆∞u tr·ªØ c√°c session logs ƒë·ªÉ xem ƒë∆∞·ª£c chi ti·∫øt c√°c c√¢u l·ªánh ƒë∆∞·ª£c s·ª≠ d·ª•ng trong session.\nN√¥Ã£i dung: C·∫≠p nh·∫≠t IAM Role TaÃ£o S3 Bucket T·∫°o S3 Gateway endpoint C·∫•u h√¨nh Session logs "
},
{
	"uri": "//localhost:1313/vi/5-portfwd/",
	"title": "Port Forwarding",
	"tags": [],
	"description": "",
	"content": "\rPort Forwarding l√† m·ªët c√°ch th·ª©c h·ªØu √≠ch ƒë·ªÉ chuy·ªÉn h∆∞·ªõng l∆∞u l∆∞·ª£ng m·∫°ng t·ª´ 1 ƒë·ªãa ch·ªâ IP - Port n√†y sang 1 ƒë·ªãa ch·ªâ IP - Port kh√°c. V·ªõi Port Forwarding ch√∫ng ta c√≥ th·ªÉ truy c·∫≠p m·ªôt EC2 instance n·∫±m trong private subnet t·ª´ m√°y tr·∫°m c·ªßa ch√∫ng ta.\nCh√∫ng ta s·∫Ω c·∫•u h√¨nh Port Forwarding cho k·∫øt n·ªëi RDP gi·ªØa m√°y c·ªßa m√¨nh v·ªõi Private Windows Instance n·∫±m trong private subnet m√† ch√∫ng ta ƒë√£ t·∫°o cho b√†i th·ª±c h√†nh n√†y.\nT·∫°o IAM User c√≥ quy·ªÅn k·∫øt n·ªëi SSM Truy c·∫≠p v√†o giao di·ªán qu·∫£n tr·ªã d·ªãch v·ª• IAM Click Users , sau ƒë√≥ click Add users. T·∫°i trang Add user. T·∫°i m·ª•c User name, ƒëi·ªÅn Portfwd. Click ch·ªçn Access key - Programmatic access. Click Next: Permissions. Click Attach existing policies directly. T·∫°i √¥ t√¨m ki·∫øm , ƒëi·ªÅn ssm. Click ch·ªçn AmazonSSMFullAccess. Click Next: Tags, click Next: Reviews. Click Create user. L∆∞u l·∫°i th√¥ng tin Access key ID v√† Secret access key ƒë·ªÉ th·ª±c hi·ªán c·∫•u h√¨nh AWS CLI. C√†i ƒë·∫∑t v√† c·∫•u h√¨nh AWS CLI v√† Session Manager Plugin ƒê·ªÉ th·ª±c hi·ªán ph·∫ßn th·ª±c h√†nh n√†y, ƒë·∫£m b·∫£o m√°y tr·∫°m c·ªßa b·∫°n ƒë√£ c√†i AWS CLI v√† Session Manager Plugin\nB·∫°n c√≥ th·ªÉ tham kh·∫£o th√™m b√†i th·ª±c h√†nh v·ªÅ c√†i ƒë·∫∑t v√† c·∫•u h√¨nh AWS CLI t·∫°i ƒë√¢y.\nV·ªõi Windows th√¨ khi gi·∫£i n√©n th∆∞ m·ª•c c√†i ƒë·∫∑t Session Manager Plugin b·∫°n h√£y ch·∫°y file install.bat v·ªõi quy·ªÅn Administrator ƒë·ªÉ th·ª±c hi·ªán c√†i ƒë·∫∑t.\nTh·ª±c hi·ªán Portforwarding Ch·∫°y command d∆∞·ªõi ƒë√¢y trong Command Prompt tr√™n m√°y c·ªßa b·∫°n ƒë·ªÉ c·∫•u h√¨nh Port Forwarding. aws ssm start-session --target (your ID windows instance) --document-name AWS-StartPortForwardingSession --parameters portNumber=\u0026#34;3389\u0026#34;,localPortNumber=\u0026#34;9999\u0026#34; --region (your region) Th√¥ng tin Instance ID c·ªßa Windows Private Instance c√≥ th·ªÉ t√¨m ƒë∆∞·ª£c khi b·∫°n xem chi ti·∫øt m√°y ch·ªß EC2 Windows Private Instance.\nC√¢u l·ªánh v√≠ d·ª• C:\\Windows\\system32\u0026gt;aws ssm start-session --target i-06343d7377486760c --document-name AWS-StartPortForwardingSession --parameters portNumber=\u0026#34;3389\u0026#34;,localPortNumber=\u0026#34;9999\u0026#34; --region ap-southeast-1 N·∫øu c√¢u l·ªánh c·ªßa b·∫°n b√°o l·ªói nh∆∞ d∆∞·ªõi ƒë√¢y : SessionManagerPlugin is not found. Please refer to SessionManager Documentation here: http://docs.aws.amazon.com/console/systems-manager/session-manager-plugin-not-found\nCh·ª©ng t·ªè b·∫°n ch∆∞a c√†i Session Manager Plugin th√†nh c√¥ng. B·∫°n c√≥ th·ªÉ c·∫ßn kh·ªüi ch·∫°y l·∫°i Command Prompt sau khi c√†i Session Manager Plugin.\nK·∫øt n·ªëi t·ªõi Private Windows Instance b·∫°n ƒë√£ t·∫°o b·∫±ng c√¥ng c·ª• Remote Desktop tr√™n m√°y tr·∫°m c·ªßa b·∫°n. T·∫°i m·ª•c Computer: ƒëi·ªÅn localhost:9999. Quay tr·ªü l·∫°i giao di·ªán qu·∫£n tr·ªã c·ªßa d·ªãch v·ª• System Manager - Session Manager. Click tab Session history. Ch√∫ng ta s·∫Ω th·∫•y c√°c session logs v·ªõi t√™n Document l√† AWS-StartPortForwardingSession. Ch√∫c m·ª´ng b·∫°n ƒë√£ ho√†n t·∫•t b√†i th·ª±c h√†nh h∆∞·ªõng d·∫´n c√°ch s·ª≠ d·ª•ng Session Manager ƒë·ªÉ k·∫øt n·ªëi c≈©ng nh∆∞ l∆∞u tr·ªØ c√°c session logs trong S3 bucket. H√£y nh·ªõ th·ª±c hi·ªán b∆∞·ªõc d·ªçn d·∫πp t√†i nguy√™n ƒë·ªÉ tr√°nh sinh chi ph√≠ ngo√†i √Ω mu·ªën nh√©.\n"
},
{
	"uri": "//localhost:1313/vi/6-cleanup/",
	"title": "D·ªçn d·∫πp t√†i nguy√™n  ",
	"tags": [],
	"description": "",
	"content": "Ch√∫ng ta s·∫Ω ti·∫øn h√†nh c√°c b∆∞·ªõc sau ƒë·ªÉ x√≥a c√°c t√†i nguy√™n ch√∫ng ta ƒë√£ t·∫°o trong b√†i th·ª±c h√†nh n√†y.\nX√≥a EC2 instance Truy c·∫≠p giao di·ªán qu·∫£n tr·ªã d·ªãch v·ª• EC2 Click Instances. Click ch·ªçn c·∫£ 2 instance Public Linux Instance v√† Private Windows Instance. Click Instance state. Click Terminate instance, sau ƒë√≥ click Terminate ƒë·ªÉ x√°c nh·∫≠n. Truy c·∫≠p giao di·ªán qu·∫£n tr·ªã d·ªãch v·ª• IAM Click Roles. T·∫°i √¥ t√¨m ki·∫øm , ƒëi·ªÅn SSM. Click ch·ªçn SSM-Role. Click Delete, sau ƒë√≥ ƒëi·ªÅn t√™n role SSM-Role v√† click Delete ƒë·ªÉ x√≥a role. Click Users. Click ch·ªçn user Portfwd. Click Delete, sau ƒë√≥ ƒëi·ªÅn t√™n user Portfwd v√† click Delete ƒë·ªÉ x√≥a user. X√≥a S3 bucket Truy c·∫≠p giao di·ªán qu·∫£n tr·ªã d·ªãch v·ª• System Manager - Session Manager. Click tab Preferences. Click Edit. K√©o chu·ªôt xu·ªëng d∆∞·ªõi. T·∫°i m·ª•c S3 logging. B·ªè ch·ªçn Enable ƒë·ªÉ t·∫Øt t√≠nh nƒÉng logging. K√©o chu·ªôt xu·ªëng d∆∞·ªõi. Click Save. Truy c·∫≠p giao di·ªán qu·∫£n tr·ªã d·ªãch v·ª• S3 Click ch·ªçn S3 bucket ch√∫ng ta ƒë√£ t·∫°o cho b√†i th·ª±c h√†nh. ( V√≠ d·ª• : lab-fcj-bucket-0001 ) Click Empty. ƒêi·ªÅn permanently delete, sau ƒë√≥ click Empty ƒë·ªÉ ti·∫øn h√†nh x√≥a object trong bucket. Click Exit. Sau khi x√≥a h·∫øt object trong bucket, click Delete ƒêi·ªÅn t√™n S3 bucket, sau ƒë√≥ click Delete bucket ƒë·ªÉ ti·∫øn h√†nh x√≥a S3 bucket. X√≥a c√°c VPC Endpoint Truy c·∫≠p v√†o giao di·ªán qu·∫£n tr·ªã d·ªãch v·ª• VPC Click Endpoints. Ch·ªçn 4 endpoints ch√∫ng ta ƒë√£ t·∫°o cho b√†i th·ª±c h√†nh bao g·ªìm SSM, SSMMESSAGES, EC2MESSAGES, S3GW. Click Actions. Click Delete VPC endpoints. T·∫°i √¥ confirm , ƒëi·ªÅn delete. Click Delete ƒë·ªÉ ti·∫øn h√†nh x√≥a c√°c endpoints. Click bi·ªÉu t∆∞·ª£ng refresh, ki·ªÉm tra t·∫•t c·∫£ c√°c endpoints ƒë√£ b·ªã x√≥a tr∆∞·ªõc khi l√†m b∆∞·ªõc ti·∫øp theo. X√≥a VPC Truy c·∫≠p v√†o giao di·ªán qu·∫£n tr·ªã d·ªãch v·ª• VPC Click Your VPCs. Click ch·ªçn Lab VPC. Click Actions. Click Delete VPC. T·∫°i √¥ confirm, ƒëi·ªÅn delete ƒë·ªÉ x√°c nh·∫≠n, click Delete ƒë·ªÉ th·ª±c hi·ªán x√≥a Lab VPC v√† c√°c t√†i nguy√™n li√™n quan. "
},
{
	"uri": "//localhost:1313/vi/categories/",
	"title": "Categories",
	"tags": [],
	"description": "",
	"content": ""
},
{
	"uri": "//localhost:1313/vi/tags/",
	"title": "Tags",
	"tags": [],
	"description": "",
	"content": ""
}]